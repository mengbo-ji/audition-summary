## æ­£æ–‡å¼€å§‹

### ä¸ºä»€ä¹ˆä¼šæœ‰è®¾è®¡æ¨¡å¼ï¼Ÿ

å°±è¿˜æ˜¯ä¸Šè¾¹çš„ ğŸŒ°ï¼Œé²è¿…å…ˆç”Ÿè¯´è¿‡ : â€œå¸Œæœ›æ˜¯æœ¬æ— æ‰€è°“æœ‰ï¼Œæ— æ‰€è°“æ— çš„ã€‚è¿™æ­£å¦‚åœ°ä¸Šçš„è·¯ï¼›å…¶å®åœ°ä¸Šæœ¬æ²¡æœ‰è·¯ï¼Œèµ°çš„äººå¤šäº†ï¼Œä¹Ÿä¾¿æˆäº†è·¯â€ï¼Œè®¾è®¡æ¨¡å¼æ˜¯å‰è¾ˆä»¬é’ˆå¯¹å¼€å‘ä¸­é‡åˆ°çš„é—®é¢˜ï¼Œæå‡ºå¤§å®¶å…¬è®¤ä¸”æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚

### ä¸ºä»€ä¹ˆéœ€è¦è®¾è®¡æ¨¡å¼ï¼Ÿ

å¯èƒ½æœ‰å°ä¼™ä¼´ç¡®å®æ²¡æœ‰ç”¨è¿‡ï¼Œæˆ–è€…è¯´ç”¨äº†ä½†ä¸çŸ¥é“è¿™å°±æ˜¯è®¾è®¡æ¨¡å¼ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦å‘¢ï¼Ÿæ˜¯å› ä¸ºåœ¨æˆ‘ä»¬é‡åˆ°ç›¸ä¼¼çš„é—®é¢˜ã€åœºæ™¯æ—¶ï¼Œèƒ½å¿«é€Ÿæ‰¾åˆ°æ›´ä¼˜çš„æ–¹å¼è§£å†³

### å¦‚ä½•ä½¿ç”¨ï¼Ÿ

åœ¨ JS è®¾è®¡æ¨¡å¼ä¸­ï¼Œ**æœ€æ ¸å¿ƒçš„æ€æƒ³â€”â€”å°è£…å˜åŒ–**ï¼Œæ€ä¹ˆç†è§£ï¼Œæ¯”å¦‚æˆ‘ä»¬å†™ä¸€ä¸ªä¸œè¥¿ï¼Œè¿™ä¸ªä¸œè¥¿åœ¨åˆå§‹ `v1.0` çš„æ—¶å€™æ˜¯è¿™ B æ ·ï¼Œåˆ°äº† `v5.0`ã€`v10.0` ç”šè‡³ `v99.0`ã€`v100.0` è¿˜æ˜¯è¿™ B æ ·ï¼Œé‚£ ojbkï¼Œä½ çˆ±æ€ä¹ˆå†™å°±æ€ä¹ˆå†™ï¼Œä½ åªè¦å®ç°å°±å¯ä»¥äº†ã€‚

> è®¾è®¡æ¨¡å¼çš„æ ¸å¿ƒæ“ä½œæ˜¯å»è§‚å¯Ÿä½ æ•´ä¸ªé€»è¾‘é‡Œé¢çš„å˜ä¸ä¸å˜ï¼Œç„¶åå°†å˜ä¸ä¸å˜åˆ†ç¦»ï¼Œè¾¾åˆ°ä½¿å˜åŒ–çš„éƒ¨åˆ†çµæ´»ã€ä¸å˜çš„åœ°æ–¹ç¨³å®šçš„ç›®çš„ã€‚

## è®¾è®¡æ¨¡å¼åˆ†ç±»

éƒ½æœ‰å•¥è®¾è®¡æ¨¡å¼ ? ç›¸ä¿¡äº†è§£çš„ï¼Œéƒ½çŸ¥é“æœ‰ 20 å¤šç§...

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8b9cb13628934ad1827434e9a09eb3ea~tplv-k3u1fbpfcp-watermark.awebp)

æŒºå¤šçš„ï¼Œæˆ‘ä¸æ‰¯é‚£ä¹ˆå¤šï¼Œå…¶å®ƒçš„æˆ‘æ²¡ç”¨è¿‡ã€‚ä»€ä¹ˆäº«å…ƒæ¨¡å¼ã€å¤–è§‚æ¨¡å¼ã€ç”Ÿæˆå™¨æ¨¡å¼å•¥çš„ï¼Œæˆ‘ç”¨éƒ½æ²¡ç”¨è¿‡ï¼Œæˆ‘å’‹è·Ÿä½ ä»¬èŠå•Šï¼Œæˆ‘ä»Šå¤©å°±å” å—‘å” å—‘å‡ ä¸ªå‰ç«¯å¸¸ç”¨çš„ã€‚

### é¢˜ç›®ä¸€

æˆ‘ä»¬å…ˆæ¥åšä¸€ä¸ªé¢˜ï¼Œå¾ˆç®€å•çš„ï¼Œå¤§å®¶è‚¯å®šéƒ½åšè¿‡ `æƒé™é€»è¾‘` åˆ¤æ–­å§ï¼Ÿ

**éœ€æ±‚ : åªç”¨å½“ç”¨æˆ·æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œæ‰èƒ½çœ‹é˜¿å®½çš„è¿™ç¯‡æ–‡ç« **

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/686f57c143284ecf9c00b48f3464b3b8~tplv-k3u1fbpfcp-watermark.awebp)

ç»™å¤§å®¶ `3min`ï¼Œä»£ç æ€ä¹ˆå†™ï¼Ÿ **â€œ å‘µï¼Œä½ è¿™ä¸æ˜¯çœ‹ä¸èµ·è€å¤«å—ï¼Ÿè€å¤«æ‹¿èµ·é”®ç›˜ï¼Œå°±æ˜¯ `if-else` æ¢­å“ˆï¼Œç›´æ¥å¸¦èµ°ï¼Œä¸‹ä¸€ä¸ª ! â€**

```js
function checkAuth(data) {
  if (data.role !== 'juejin') {
    console.log('ä¸æ˜¯æ˜é‡‘ç”¨æˆ·');
    return false;
  }
  if (data.grade < 1) {
    console.log('æ˜é‡‘ç­‰çº§å°äº 1 çº§');
    return false;
  }
  if (data.job !== 'FE') {
    console.log('ä¸æ˜¯å‰ç«¯å¼€å‘');
    return false;
  }
  if (data.type !== 'eat melons') {
    console.log('ä¸æ˜¯åƒç“œç¾¤ä¼—');
    return false;
  }
}
å¤åˆ¶ä»£ç 
```

ç›¸ä¿¡è¿™æ®µä»£ç ï¼Œå¤§å®¶éƒ½ä¼šå†™ï¼Œé‚£ä¹ˆè¿™ä¹ˆå†™ï¼Œæœ‰ä»€ä¹ˆé—®é¢˜ ï¼Ÿ

- checkAuth å‡½æ•°ä¼šçˆ†ç‚¸ ğŸ’¥
- ç­–ç•¥é¡¹æ— æ³•å¤ç”¨
- è¿åå¼€é—­åŸåˆ™ï¼ˆä¸çŸ¥é“å¼€æ”¾å°é—­åŸåˆ™çš„è‡ªè¡Œç™¾åº¦ï¼‰

èªæ˜çš„å°ä¼™ä¼´å·²ç»çŸ¥é“è¿™é‡Œè¦è®²çš„æ˜¯ä»€ä¹ˆæ¨¡å¼äº†ï¼Œå¯¹å¤´ï¼è¿™é‡Œè®²çš„å°±æ˜¯ `ç­–ç•¥æ¨¡å¼`ã€‚é‚£ä¹ˆä»€ä¹ˆæ˜¯ç­–ç•¥æ¨¡å¼å‘¢ ï¼Ÿ

#### ç­–ç•¥æ¨¡å¼

å®šä¹‰ : è¦å®ç°æŸä¸€ä¸ªåŠŸèƒ½ï¼Œæœ‰å¤šç§æ–¹æ¡ˆå¯ä»¥é€‰æ‹©ã€‚æˆ‘ä»¬å®šä¹‰ç­–ç•¥ï¼ŒæŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ï¼Œå¹¶ä¸”ä½¿å®ƒä»¬å¯ä»¥ç›¸äº’è½¬æ¢ã€‚

**ç­–ç•¥ + ç»„åˆï¼Œç»é…å•Šï¼Œè€å“¥ï¼**

æˆ‘ä»¬ç”¨ç­–ç•¥æ¨¡å¼æ¥æ”¹é€ ä»¥ä¸‹è¿™æ®µé€»è¾‘ ğŸ‘‡

```js
// ç»´æŠ¤æƒé™åˆ—è¡¨
const jobList = ['FE', 'BE'];

// ç­–ç•¥
var strategies = {
  checkRole: function(value) {
    return value === 'juejin';
  },
  checkGrade: function(value) {
    return value >= 1;
  },
  checkJob: function(value) {
    return jobList.indexOf(value) > 1;
  },
  checkEatType: function(value) {
    return value === 'eat melons';
  }
};
å¤åˆ¶ä»£ç 
```

æˆ‘ä»¬å·²ç»å†™å®Œäº†ç­–ç•¥ï¼Œæ¥ä¸‹æ¥è¦åšçš„å°±æ˜¯éªŒè¯äº†~

```js
// æ ¡éªŒè§„åˆ™
var Validator = function() {
  this.cache = [];

  // æ·»åŠ ç­–ç•¥äº‹ä»¶
  this.add = function(value, method) {
    this.cache.push(function() {
      return strategies[method](value);
    });
  };

  // æ£€æŸ¥
  this.check = function() {
    for (let i = 0; i < this.cache.length; i++) {
      let valiFn = this.cache[i];
      var data = valiFn(); // å¼€å§‹æ£€æŸ¥
      if (!data) {
        return false;
      }
    }
    return true;
  };
};
å¤åˆ¶ä»£ç 
```

æ­¤æ—¶ï¼Œå°å½­åŒå­¦éœ€è¦è¿›è¡Œæƒé™éªŒè¯çš„æ¡ä»¶ä¸º :

- æ˜é‡‘ç”¨æˆ·
- æ˜é‡‘ç­‰çº§ 1 çº§ä»¥ä¸Š

é‚£ä¹ˆä»£ç å°±å¯ä»¥è¿™ä¹ˆå†™ :

```js
// å°å½­ä½¿ç”¨ç­–ç•¥æ¨¡å¼è¿›è¡Œæ“ä½œ
var compose1 = function() {
  var validator = new Validator();
  const data1 = {
    role: 'juejin',
    grade: 3
  };
  validator.add(data1.role, 'checkRole');
  validator.add(data1.grade, 'checkGrade');
  const result = validator.check();
  return result;
};
å¤åˆ¶ä»£ç 
```

ç„¶åå¦ä¸€ä¸ªå°ä¼™ä¼´é˜¿å®½ï¼Œä»–å¯èƒ½éœ€è¦è¿›è¡Œæƒé™éªŒè¯çš„æ¡ä»¶ä¸º :

- æ˜é‡‘ç”¨æˆ·
- å‰ç«¯å·¥ç¨‹å¸ˆ

é‚£ä¹ˆä»£ç å°±å¯ä»¥è¿™ä¹ˆå†™ :

```js
// é˜¿å®½ä½¿ç”¨ç­–ç•¥æ¨¡å¼è¿›è¡Œæ“ä½œ
var compose2 = function() {
  var validator = new Validator();
  const data2 = {
    role: 'juejin',
    job: 'FE'
  };
  validator.add(data2.role, 'checkRole');
  validator.add(data2.job, 'checkJob');
  const result = validator.check();
  return result;
};
å¤åˆ¶ä»£ç 
```

è¿™æ˜¯ä¸æ˜¯æ¯”ä¸€ç›´ç–¯ç‹‚å†™ `if-else` å¥½å¤ªå¤šäº†å‘¢ï¼Ÿè¿˜æœ‰ä»€ä¹ˆä¾‹å­ï¼Ÿè¡¨å•éªŒè¯å•Š ~ å¯¹äºè¡¨å•å­—æ®µï¼ˆåç§°ã€å¯†ç ã€é‚®ç®±ã€....ï¼‰æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç­–ç•¥æ¨¡å¼å»è®¾è®¡ä¼˜åŒ–å®ƒï¼Œæƒ³å•¥å‘¢ï¼Œèµ¶ç´§åŠ¨æ‰‹è¯•ä¸€ä¸‹ï¼æˆ‘éƒ½å·²ç»æ‰‹æŠŠæ‰‹æ•™ä½ åˆ°è¿™äº†~

#### ä»€ä¹ˆæ—¶å€™ç”¨ç­–ç•¥æ¨¡å¼ï¼Ÿ

å½“ä½ è´Ÿè´£çš„æ¨¡å—ï¼ŒåŸºæœ¬æ»¡è¶³ä»¥ä¸‹æƒ…å†µæ—¶

- å„åˆ¤æ–­æ¡ä»¶ä¸‹çš„ç­–ç•¥ç›¸äº’ç‹¬ç«‹ä¸”å¯å¤ç”¨
- ç­–ç•¥å†…éƒ¨é€»è¾‘ç›¸å¯¹å¤æ‚
- ç­–ç•¥éœ€è¦çµæ´»ç»„åˆ

### é¢˜ç›®äºŒ

å‰é¢è¿˜é€¼é€¼ä¸€ä¸‹ï¼Œè¿™é‡Œç›´æ¥ç»™éœ€æ±‚äº† ğŸ‘‡

**éœ€æ±‚ : ç”³è¯·æˆåŠŸåï¼Œéœ€è¦è§¦å‘å¯¹åº”çš„è®¢å•ã€æ¶ˆæ¯ã€å®¡æ ¸æ¨¡å—å¯¹åº”é€»è¾‘**

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d739205f61014be8a8f0756fcf7c1cfa~tplv-k3u1fbpfcp-watermark.awebp)

æœºæ™ºå¦‚æˆ‘ï¼Œæˆ‘ä¼šå¦‚ä½•åšå‘¢ï¼Ÿ

```js
function applySuccess() {
  // é€šçŸ¥æ¶ˆæ¯ä¸­å¿ƒè·å–æœ€æ–°å†…å®¹
  MessageCenter.fetch();
  // æ›´æ–°è®¢å•ä¿¡æ¯
  Order.update();
  // é€šçŸ¥ç›¸å…³æ–¹å®¡æ ¸
  Checker.alert();
}
å¤åˆ¶ä»£ç 
```

ä¸å°±è¿™æ ·å†™å—ï¼Œè¿˜æƒ³å’‹æ»´ï¼ï¼ï¼æ˜¯çš„ï¼Œè¿™ä¹ˆå†™æ²¡å¾—æ¯›ç—…ï¼Œä½†æ˜¯å‘¢ï¼Œæˆ‘ä»¬æ¥æ€è€ƒå‡ ä¸ªé—®é¢˜

æ¯”å¦‚ `MessageCenter.fetch()` æ˜¯å°å½­å†™çš„ï¼Œ**ä»–å¤§å§¨å¤«æ¥äº†ï¼Œå¿ƒæƒ…ä¸çˆ½**ï¼ŒæŠŠæ¨¡å—çš„æ–¹æ³•åæ”¹äº†ï¼Œç°åœ¨å« `MessageCenter.request()`ï¼Œä½ å’‹åŠï¼Œä½ è¿™å—é€»è¾‘æ”¹å‘—~

å†æ¯”å¦‚ï¼Œä½ å’Œé˜¿å®½å¹¶è¡Œå¼€å‘çš„ï¼Œé˜¿å®½è´Ÿè´£è®¢å•æ¨¡å—ï¼Œä½ ä¸€æ°”å‘µæˆå†™ä¸‹è¿™æ®µä»£ç ï¼Œç„¶åä¸€è¿è¡Œï¼ŒæŠ¥é”™äº†ï¼Œä¸€è¯¢é—®ï¼Œå‘ç°ï¼Œ**åŸæ¥é˜¿å®½æ˜¨æ™šå»è¹¦è¿ªäº†**ï¼ŒåŸæœ¬ä»Šå¤©åº”è¯¥å®Œæˆçš„è®¢å•æ¨¡å—`Order.update()`ï¼Œå»¶è¿Ÿä¸€å¤©ï¼Œé‚£ä½ å°±åªèƒ½å…ˆæ³¨é‡Šä»£ç ï¼Œç­‰ä¾èµ–çš„æ¨¡å—å¼€å‘å®Œäº†ï¼Œä½ å†å›æ¥æ·»åŠ è¿™æ®µé€»è¾‘å’¯~

æ›´å¯æ€•çš„æ˜¯ï¼Œä½ å¯èƒ½ä¸åªæ˜¯æ¶‰åŠåˆ°è¿™ä¸‰ä¸ªæ¨¡å—ï¼Œmaybe è¿˜æœ‰å¾ˆå¤šæ¨¡å—ï¼Œæ¯”å¦‚ä½ ç”³è¯·æˆåŠŸï¼Œç°åœ¨è¿˜éœ€è¦ä¸ŠæŠ¥ç”³è¯·æ—¥å¿—ï¼Œä½ æ€»ä¸èƒ½è¿™æ ·å†™å§ï¼Ÿ

```js
function applySuccess() {
  // é€šçŸ¥æ¶ˆæ¯ä¸­å¿ƒè·å–æœ€æ–°å†…å®¹
  MessageCenter.fetch();
  // æ›´æ–°è®¢å•ä¿¡æ¯
  Order.update();
  // é€šçŸ¥ç›¸å…³æ–¹å®¡æ ¸
  Checker.alert();

  // maybe æ›´å¤š
  Log.write();
  ...
}
å¤åˆ¶ä»£ç 
```

åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬çš„ `å‘å¸ƒ-è®¢é˜…æ¨¡å¼` è¦æŒ‰æºä¸ä½äº†ã€‚

#### å‘å¸ƒ-è®¢é˜…æ¨¡å¼

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/66f97bd23566468182554fbac39fd009~tplv-k3u1fbpfcp-watermark.awebp)

å•Šå“ˆå“ˆå“ˆï¼Œæœ‰æ²¡æœ‰è§‰å¾—è¿™ä¸ª`EventEmitter`å¥½ç†Ÿæ‚‰å•Šï¼Œè¿™ä¸æ˜¯é¢è¯•å¸¸ä¼šé—®çš„ï¼Ÿ

å‘å¸ƒ-è®¢é˜…æ˜¯ä¸€ç§æ¶ˆæ¯èŒƒå¼ï¼Œæ¶ˆæ¯çš„å‘å¸ƒè€…ï¼Œä¸ä¼šå°†æ¶ˆæ¯ç›´æ¥å‘é€ç»™ç‰¹å®šçš„`è®¢é˜…è€…`ï¼Œè€Œæ˜¯é€šè¿‡æ¶ˆæ¯é€šé“å¹¿æ’­å‡ºå»ï¼Œç„¶åå‘¢ï¼Œè®¢é˜…è€…é€šè¿‡è®¢é˜…è·å–åˆ°æƒ³è¦çš„æ¶ˆæ¯ã€‚

æˆ‘ä»¬ç”¨ å‘å¸ƒ-è®¢é˜…æ¨¡å¼ ä¿®æ”¹ä»¥ä¸‹ä¸Šè¾¹çš„ä»£ç  ğŸ‘‡

```js
const EventEmit = function() {
  this.events = {};
  this.on = function(name, cb) {
    if (this.events[name]) {
      this.events[name].push(cb);
    } else {
      this.events[name] = [cb];
    }
  };
  this.trigger = function(name, ...arg) {
    if (this.events[name]) {
      this.events[name].forEach(eventListener => {
        eventListener(...arg);
      });
    }
  };
};
å¤åˆ¶ä»£ç 
```

ä¸Šè¾¹æˆ‘ä»¬å†™å¥½äº†ä¸€ä¸ª `EventEmit`ï¼Œç„¶åæˆ‘ä»¬çš„ä¸šåŠ¡ä»£ç å¯ä»¥æ”¹æˆè¿™æ · ~

```js
let event = new EventEmit();
event.trigger('success');

MessageCenter.fetch() {
  event.on('success', () => {
    console.log('æ›´æ–°æ¶ˆæ¯ä¸­å¿ƒ');
  });
}
Order.update() {
  event.on('success', () => {
    console.log('æ›´æ–°è®¢å•ä¿¡æ¯');
  });
}
Checker.alert() {
  event.on('success', () => {
    console.log('é€šçŸ¥ç®¡ç†å‘˜');
  });
}
å¤åˆ¶ä»£ç 
```

ä½†æ˜¯è¿™æ ·å°±æ²¡é—®é¢˜äº†å—ï¼Ÿå…¶å®è¿˜æ˜¯æœ‰å¼Šç«¯çš„ï¼Œæ¯”å¦‚è¯´ï¼Œè¿‡å¤šçš„ä½¿ç”¨å‘å¸ƒè®¢é˜…ï¼Œå°±ä¼šå¯¼è‡´éš¾ä»¥ç»´æŠ¤è°ƒç”¨å…³ç³»ã€‚æ‰€ä»¥ï¼Œè¿˜æ˜¯çœ‹å¤§å®¶çš„è®¾è®¡å§ï¼Œè¿™é‡Œåªæ˜¯è®©å¤§å®¶çŸ¥é“ï¼Œå‘å¸ƒè®¢é˜…æ¨¡å¼æ˜¯ä¸ªå•¥~

#### ä»€ä¹ˆæ—¶å€™ç”¨å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼Ÿ

å½“ä½ è´Ÿè´£çš„æ¨¡å—ï¼ŒåŸºæœ¬æ»¡è¶³ä»¥ä¸‹æƒ…å†µæ—¶

- å„æ¨¡å—ç›¸äº’ç‹¬ç«‹
- å­˜åœ¨ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»
- ä¾èµ–æ¨¡å—ä¸ç¨³å®šã€ä¾èµ–å…³ç³»ä¸ç¨³å®š
- å„æ¨¡å—ç”±ä¸åŒçš„äººå‘˜ã€å›¢é˜Ÿå¼€å‘

> æˆ‘çŸ¥é“ä½ æœ‰ç–‘é—®ï¼Œå…³äº è§‚å¯Ÿè€…æ¨¡å¼ VS å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼Œè¿™é‡Œæˆ‘ä¸è®²å®ƒä»¬çš„åŒºåˆ†ï¼Œä¸‹æœŸå†èŠï¼Œæˆ–è€…è‡ªè¡Œèµ„æ–™æŸ¥è¯¢

### é¢˜ç›®ä¸‰

è¿™ä¸ªé¢˜ç›®ï¼Œä¹Ÿæœ‰ç‚¹éš¾æƒ³å•Šï¼Œæˆ‘ç›´æ¥è¯´å§ï¼Œä¸»è¦è®² **è£…é¥°å™¨æ¨¡å¼**ã€**é€‚é…å™¨æ¨¡å¼**ã€‚

#### è£…é¥°å™¨æ¨¡å¼

> ä¸ªäººç†è§£ : æ˜¯ä¸ºäº†ç»™ä¸€ä¸ªå‡½æ•°èµ‹èƒ½ï¼Œå¢å¼ºå®ƒçš„æŸç§èƒ½åŠ›ï¼Œå®ƒèƒ½åŠ¨æ€çš„æ·»åŠ å¯¹è±¡çš„è¡Œä¸ºï¼Œä¹Ÿå°±æ˜¯æˆ‘ä¼ å…¥çš„å°±æ˜¯ä¸€ä¸ªå¯¹è±¡

> åœ¨ JS ä¸–ç•Œä¸­ï¼Œä¸–é—´ä¸‡ç‰©ï¼Œçš†ä¸ºå¯¹è±¡

å¤§å®¶è¿‡å¹´ï¼Œéƒ½ä¼šä¹°æ¡”å­æ ‘å§ï¼ˆä¸ä¹°çš„ç»Ÿä¸€å¸¦èµ°ï¼‰ï¼Œæ„å‘³â€œå¤§å‰å¤§åˆ©â€å˜›ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¹°äº†æ¡”å­æ ‘ä¹‹åï¼Œéƒ½ä¼šå¾€ä¸Šè¾¹æŒ‚ä¸€äº›çº¢åŒ…ï¼Œæ‘‡èº«ä¸€å˜ï¼Œâ€œçº¢åŒ…æ¡”å­æ ‘â€ï¼Œç‰›æ°ï¼è¿™ä¸ªçš„çº¢åŒ…å°±æ˜¯**è£…é¥°å™¨**ï¼Œå®ƒä¸å¯¹æ¡”å­æ ‘åŸæœ‰çš„åŠŸèƒ½äº§ç”Ÿå½±å“ã€‚

å†ä¸¾ä¸ª ğŸŒ°ï¼Œæˆ‘ç°åœ¨å†™çš„è¿™è¾¹æ–‡ç« ï¼Œæˆ‘åªä¼šå†™ä¸­æ–‡ï¼Œä½†æ˜¯å„ä½çœ‹å®˜ä¸­æœ‰è‹±å›½å°ä¼™ä¼´ï¼Œé‚£æˆ‘ä¸ä¼šå†™è‹±æ–‡å•Šï¼Œæ‰€ä»¥æˆ‘éœ€è¦é€šè¿‡è£…é¥°å™¨æ¥èµ‹äºˆæˆ‘å†™è‹±æ–‡çš„èƒ½åŠ›

ä½ è¿™ä¸æ˜¯åœ¨çœŸå®å†™ä»£ç ä¸­çš„å•Šï¼Œèƒ½ä¸èƒ½ä¸¾ä¸€ä¸ªæ—¥å¸¸å¼€å‘çš„ ğŸŒ°ï¼Œokï¼Œé‚£æˆ‘æ¥ä¸¾ä¸€ä¸ªï¼ŒReact ä¸­çš„é«˜é˜¶ç»„ä»¶ HOC

äº†è§£ React çš„éƒ½çŸ¥é“ï¼Œé«˜é˜¶ç»„ä»¶å…¶å®å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶ã€‚

é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨å†™ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ HOCï¼Œç”¨å®ƒæ¥è£…é¥° `Target Component`

```js
import React from 'react';

const yellowHOC = WrapperComponent => {
  return class extends React.Component {
    render() {
      <div style={{ backgroundColor: 'yellow' }}>
        <WrapperComponent {...this.props} />
      </div>;
    }
  };
};

export default yellowHOC;
å¤åˆ¶ä»£ç 
```

å®šä¹‰äº†ä¸€ä¸ªå¸¦æœ‰è£…é¥°é»„è‰²èƒŒæ™¯çš„é«˜é˜¶ç»„ä»¶ï¼Œæˆ‘ä»¬ç”¨å®ƒæ¥è£…é¥°ç›®æ ‡ç»„ä»¶

```js
import React from 'react';
import yellowHOC from './yellowHOC';

class TargetComponent extends Reac.Compoment {
  render() {
    return <div>66666</div>;
  }
}

export default yellowHOC(TargetComponent);
å¤åˆ¶ä»£ç 
```

ä½ çœ‹ï¼Œæˆ‘ä»¬è¿™ä¸å°±ç”¨åˆ°äº†è£…é¥°å™¨æ¨¡å¼äº†å˜›ï¼Ÿä»€ä¹ˆï¼Œä½ è¿˜å¬ä¸æ‡‚ï¼Ÿé‚£æˆ‘æœ€åå†ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œä¸çŸ¥é“è¿™ä¸ªä¾‹å­ï¼Œèƒ½ä¸èƒ½å¸®åŠ©ä½ ä»¬ç†è§£

```js
const kuanWrite = function() {
  this.writeChinese = function() {
    console.log('æˆ‘åªä¼šå†™ä¸­æ–‡');
  };
};

// é€šè¿‡è£…é¥°å™¨ç»™é˜¿å®½åŠ ä¸Šå†™è‹±æ–‡çš„èƒ½åŠ›
const Decorator = function(old) {
  this.oldWrite = old.writeChinese;
  this.writeEnglish = function() {
    console.log('ç»™é˜¿å®½èµ‹äºˆå†™è‹±æ–‡çš„èƒ½åŠ›');
  };
  this.newWrite = function() {
    this.oldWrite();
    this.writeEnglish();
  };
};

const oldKuanWrite = new kuanWrite();
const decorator = new Decorator(oldKuanWrite);
decorator.newWrite();
å¤åˆ¶ä»£ç 
```

#### é€‚é…å™¨æ¨¡å¼

> ä¸ªäººç†è§£ï¼Œä¸ºäº†è§£å†³æˆ‘ä»¬ä¸å…¼å®¹çš„é—®é¢˜ï¼ŒæŠŠä¸€ä¸ªç±»çš„æ¥å£æ¢æˆæˆ‘ä»¬æƒ³è¦çš„æ¥å£ã€‚

ä¸¾ä¸ª ğŸŒ° , æˆ‘æƒ³å¬æ­Œçš„æ—¶å€™ï¼Œæˆ‘å‘ç°æˆ‘æ²¡å¸¦è€³æœºï¼Œæˆ‘çš„æ‰‹æœºæ˜¯ iphone çš„ï¼Œè€Œç°åœ¨æˆ‘åªæœ‰ä¸€ä¸ª Type-C çš„è€³æœºï¼Œä¸ºäº†èƒ½å¤Ÿå¬æ­Œï¼Œæˆ‘ç”¨äº†ä¸€ä¸ªè½¬æ¢å™¨ï¼ˆä¹Ÿå°±æ˜¯é€‚é…å™¨ï¼‰ï¼Œç„¶åæˆ‘å°±å¯ä»¥å¼€å¿ƒçš„å¬æ­Œäº†ã€‚

æˆ‘ä¸¾ä¸ªçœŸå®ä¸šåŠ¡ä¸­çš„ä¾‹å­ï¼Œå‰æ®µæ—¶é—´éœ€è¦åšä¸€ä¸ªéœ€æ±‚ï¼Œæ˜¯è¿™æ ·çš„ã€‚

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7e863ff0e86244439aafdf8c3d3d9ca3~tplv-k3u1fbpfcp-watermark.awebp)

çœ‹è¿™ä¸ªå›¾ï¼Œå›¾ä¸­çº¢è‰²æ–¹æ¡†åŒºåŸŸæ˜¯ä¸€ä¸ªèµ„æºåˆ—è¡¨å±•ç¤ºç»„ä»¶ï¼Œè¯¥åˆ—è¡¨æ•°æ®ï¼Œæœ‰**ä¸‰å¤„æ¥æº**ï¼šæœ¬åœ°ä¸Šä¼ ã€èµ„æºåˆ—è¡¨æ·»åŠ ã€åå°è¿”å›èµ„æºã€‚

æ€ä¹ˆç†è§£å‘¢ï¼Ÿå¯ä»¥çœ‹åˆ°å›¾ä¸­ï¼Œè¯¥æµç¨‹ä¸»è¦æ˜¯ï¼š

- å³è¾¹çš„â€œèµ„æºæ¦‚å†µâ€æ˜¯è°ƒæ¥å£ï¼Œè¿”å›çš„ä¸€ä¸ª MaterialsList ï¼Œå¯ä»¥ä»å³è¾¹ç‚¹å‡» â€œ+â€ æ·»åŠ è¿›æ¥
- ä¹Ÿå¯ä»¥é€šè¿‡é€‰æ‹©æœ¬åœ°æ–‡ä»¶ä¸Šä¼ 
- å¦‚æœæ˜¯ç¼–è¾‘åœºæ™¯ä¸‹ï¼Œè¿˜æœ‰åå°æ¥å£è¿”å›çš„æ•°æ®

ç”±äºå†å²åŸå› å’Œä¹‹å‰åå°æ¥å£è¿”å›çš„æ•°æ®ç»“æ„é—®é¢˜ï¼Œè¿™ä¸‰ä¸ªæ•°æ®æ ¼å¼æ˜¯ä¸åŒçš„ã€‚

```typescript
// æœ¬åœ°èµ„æºæ–‡ä»¶ä¸Šä¼ ä¹‹åçš„æ•°æ®ç»“æ„
export interface ResourceLocalFileType {
  uuid: string;
  name: string;
  size: number;
  created: number;
  lastModified: number;
  resourceType: number;
  cancel: () => void;
  status: string;
}
å¤åˆ¶ä»£ç 
// èµ„æºæ¦‚å†µæ¥å£è¿”å›çš„æ•°æ®ç»“æ„
export interface ResourcePackageFileType {
  uuid: string;
  materialName: string;
  materialLink: string;
  materialType: number;
  uid?: string;
  ext?: string;
}
å¤åˆ¶ä»£ç 
// åŸå…ˆæ•°æ®åå°è¿”å›çš„æ•°æ®æ¥å£
export interface ResourceBackendFileType {
  uuid: string;
  resourceName: string;
  resourceLink: string;
  resourceType: number;
  version: string;
  ext: string;
}
å¤åˆ¶ä»£ç 
```

å¾ˆè›‹ç–¼ï¼Œä¸‰ä¸ªæ•°æ®æ¥æºï¼Œä¸‰ç§æ—¶å€™æ•°æ®ç»“æ„ï¼Œæˆ‘ä»¬çš„èµ„æºåˆ—è¡¨ç»„ä»¶æ˜¯åªèƒ½æ¥æ”¶ä¸€ç§æ•°æ®æ ¼å¼çš„åˆ—è¡¨ï¼Œæˆ‘ä¸æƒ³ç ´åçº¯å±•ç¤ºå‹ç»„ä»¶çš„å†…éƒ¨é€»è¾‘ï¼Œ**æƒ³ä¿æŒè¯¥ç»„ä»¶çš„èŒè´£ï¼šå±•ç¤ºï¼**

é‚£è¯¥æ€ä¹ˆå¤„ç†ï¼Ÿ**é‡‡ç”¨é€‚é…å™¨æ¨¡å¼ï¼Œå°†ä¸åŒçš„æ•°æ®ç»“æ„é€‚é…æˆå±•ç¤ºç»„ä»¶æ‰€èƒ½æ¥å—çš„æ•°æ®ç»“æ„**

é¦–å…ˆï¼Œå®šä¹‰ä¸€ä¸ªç»Ÿä¸€çš„æ•°æ®æ ¼å¼ï¼šAdapterResourceFileType

```typescript
export interface AdapterResourceType {
  uuid: string;
  created: number;
  fileNo: number;
  fileName: string;
  fileOrigin: string;
  fileStatus: string;
  fileInfo: {
    type: number;
    size?: number;
    [key: string]: any;
  };
  // æœ¬åœ°å›¾ç‰‡é¢å¤–æ“ä½œ
  action?: {
    cancel?: () => void;
    [key: string]: any;
  };
}
å¤åˆ¶ä»£ç 
```

ç„¶åé€šè¿‡é€‚é…å™¨æ¨¡å—ï¼Œé€‚é…æˆæˆ‘ä»¬éœ€è¦çš„æ¥å£APIã€‚

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f7e962936607400bb152a3d49a46cd26~tplv-k3u1fbpfcp-watermark.awebp)

åœ¨æ•°æ®è¿›è¡Œç»„ä»¶åˆ—è¡¨å±•ç¤ºæ—¶ï¼Œå°†æ¥æºä¸åŒçš„æ•°æ®ç»è¿‡é€‚é…å™¨å¤„ç†ï¼Œè¿›è¡Œæ•´åˆï¼Œç„¶åä¼ é€’ç»™å±•ç¤ºç»„ä»¶ï¼Œä»¥è¾¾åˆ°æˆ‘ä»¬çš„ç›®çš„

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/be9b40b244fb434ba3d03ea8b895becd~tplv-k3u1fbpfcp-watermark.awebp)

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1dffc52d3ed041b4a9c82e95f0f8518e~tplv-k3u1fbpfcp-watermark.awebp)

å¯èƒ½æœ‰äººè§‰å¾—ï¼Œè¿™å°±æ˜¯é€‚é…å™¨ï¼Ÿä½ åœ¨é€—æˆ‘ï¼Ÿæˆ‘æƒ³è¯´ : _________

### é¢˜ç›®å››

æˆ‘ä»¬å†æ¥è®²ä¸€ä¸ªå«åš **ä»£ç†æ¨¡å¼**ï¼Œè¯´åˆ°ä»£ç†å“ˆï¼Œæˆ‘è„‘æµ·é‡Œç¬¬ä¸€ä¸ªæµ®ç°çš„è¯è¯­ : â€œäº‹ä»¶å§”æ‰˜ã€äº‹ä»¶ä»£ç†â€ï¼Œè¿™ç®—å—ï¼Ÿç®—å“’ã€‚æˆ‘ä¸¾äº› ğŸŒ°ï¼Œè®©å¤§å®¶çŸ¥é“ä»£ç†æ¨¡å¼æ˜¯ä¸ªå•¥ç©æ„

ä½œä¸ºç¨‹åºå‘˜å˜›ï¼Œå¥³æœ‹å‹æ¯”è¾ƒéš¾æ‰¾ï¼Œå°±ç®—æ‰¾åˆ°äº†ï¼Œå’±è¿™ä¹ˆç˜¦å¼±ï¼Œæ€•æ˜¯ä¿æŠ¤ä¸äº†å•Šï¼Œæ‰€ä»¥æˆ‘èŠ±é’±æ‰¾äº†ä¸ªä¿é•–æ¥ä¿æŠ¤æˆ‘ï¼Œç¨³å¦¥ã€‚è¿™å°±æ˜¯ä»£ç†æ¨¡å¼ã€‚

ä½ ç¿»qiangå—ï¼Ÿä½ èƒ½ google å—ï¼Ÿè€å®äººå“ªä¼šä»€ä¹ˆç¿»qiangï¼Œæˆ‘æ˜¯ä¸ä¼šçš„ï¼Œä¼šæˆ‘ä¹Ÿè¯´æˆ‘ä¸ä¼šã€‚å…¶å®æ­£å¸¸æ¥è®²ï¼Œæˆ‘ä»¬ç›´æ¥è®¿é—® google æ˜¯æ— å“åº”çš„ã€‚é‚£æ€ä¹ˆåŠå‘¢ï¼Œé€šè¿‡ç¬¬ä¸‰æ–¹ä»£ç†æœåŠ¡å™¨ã€‚å°é£æœºï¼Ÿæ‡‚ ï¼Ÿ

è¦è¯´åˆä¸­éä¸»æµä¸‰å¤§å·¨å¤´ï¼Œè«è¿‡äº `è®¸åµ©ã€å¾è‰¯ã€æ±ªè‹æ³·`äº†ï¼Œå»å¹´æƒ³å»çœ‹è®¸åµ©æ¼”å”±ä¼šï¼Œå¥½å®¶ä¼™ï¼Œè¿™ä¸ªæ¼”å”±ä¼šçš„é—¨ç¥¨éƒ½è¢«æŠ¢å…‰äº†ï¼Œæ— å¥ˆä¹‹ä¸‹ï¼Œåªèƒ½æ‰¾é»„ç‰›ï¼Œè¿™é‡Œï¼Œé»„ç‰›å°±èµ·äº†ä»£ç†çš„ä½œç”¨ï¼Œæ‡‚ï¼Ÿ

ç¨‹åºä¸–ç•Œçš„ä»£ç†è€…ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæˆ‘ä»¬ä¸ç›´æ¥æ“ä½œåŸæœ‰å¯¹è±¡ï¼Œè€Œæ˜¯å§”æ‰˜ä»£ç†è€…å»è¿›è¡Œã€‚ä»£ç†è€…çš„ä½œç”¨ï¼Œå°±æ˜¯å¯¹æˆ‘ä»¬çš„è¯·æ±‚é¢„å…ˆè¿›è¡Œå¤„ç†æˆ–è½¬æ¥ç»™å®é™…å¯¹è±¡ã€‚

> ä»£ç†æ¨¡å¼æ˜¯ä¸ºå…¶å®ƒå¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥**æ§åˆ¶**è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ï¼Œå…·ä½“æ‰§è¡Œçš„åŠŸèƒ½è¿˜æ˜¯è¿™ä¸ªå¯¹è±¡æœ¬èº«ï¼Œå°±æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬å‘é‚®ä»¶ï¼Œé€šè¿‡ä»£ç†æ¨¡å¼ï¼Œé‚£ä¹ˆä»£ç†è€…å¯ä»¥æ§åˆ¶ï¼Œå†³å®šå‘è¿˜æ˜¯ä¸å‘ï¼Œä½†å…·ä½“å‘çš„æ‰§è¡ŒåŠŸèƒ½ï¼Œæ˜¯å¤–éƒ¨å¯¹è±¡æ‰€å†³å®šï¼Œè€Œä¸æ˜¯ä»£ç†è€…å†³å®šã€‚

```js
// å‘é‚®ä»¶ï¼Œä¸æ˜¯qqé‚®ç®±çš„æ‹¦æˆª
const emailList = ['qq.com', '163.com', 'gmail.com'];

// ä»£ç†
const ProxyEmail = function(email) {
  if (emailList.includes(email)) {
    // å±è”½å¤„ç†
  } else {
    // è½¬å‘ï¼Œè¿›è¡Œå‘é‚®ä»¶
    SendEmail.call(this, email);
  }
};

const SendEmail = function(email) {
  // å‘é€é‚®ä»¶
};

// å¤–éƒ¨è°ƒç”¨ä»£ç†
ProxyEmail('cvte.com');
ProxyEmail('ojbk.com');
å¤åˆ¶ä»£ç 
```

ä¸‹è¾¹å†æ¥ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œæ¥è‡³ ã€ŠJavaScript è®¾è®¡æ¨¡å¼ä¸å¼€å‘å®è·µã€‹

```js
// æœ¬ä½“
var domImage = (function() {
  var imgEle = document.createElement('img');
  document.body.appendChild(imgEle);
  return {
    setSrc: function(src) {
      imgEle.src = src;
    }
  };
})();

// ä»£ç†
var proxyImage = (function() {
  var img = new Image();
  img.onload = function() {
    domImage.setSrc(this.src); // å›¾ç‰‡åŠ è½½å®Œè®¾ç½®çœŸå®å›¾ç‰‡src
  };
  return {
    setSrc: function(src) {
      domImage.setSrc('./loading.gif'); // é¢„å…ˆè®¾ç½®å›¾ç‰‡srcä¸ºloadingå›¾
      img.src = src;
    }
  };
})();

// å¤–éƒ¨è°ƒç”¨
proxyImage.setSrc('./product.png');
å¤åˆ¶ä»£ç 
```

#### ä»€ä¹ˆæ—¶å€™ç”¨ä»£ç†æ¨¡å¼ï¼Ÿ

å½“ä½ è´Ÿè´£çš„æ¨¡å—ï¼ŒåŸºæœ¬æ»¡è¶³ä»¥ä¸‹æƒ…å†µæ—¶

- æ¨¡å—èŒè´£å•ä¸€ä¸”å¯å¤ç”¨
- ä¸¤ä¸ªæ¨¡å—é—´çš„äº¤äº’éœ€è¦ä¸€å®šé™åˆ¶å…³ç³»

> è¿™é‡Œæˆ‘åˆçŸ¥é“ä½ æœ‰ç–‘é—®äº†ï¼Œå…³äº ä»£ç†æ¨¡å¼ VS è£…é¥°è€…æ¨¡å¼ï¼Œè¿™é‡Œæˆ‘ä¸è®²å®ƒä»¬çš„åŒºåˆ†ï¼Œä¸‹æœŸå†èŠï¼Œæˆ–è€…è‡ªè¡Œèµ„æ–™æŸ¥è¯¢

### é¢˜ç›®äº”

éœ€æ±‚ ï¼šå¦‚å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬ç”³è¯·è®¾å¤‡ä¹‹åï¼Œæ¥ä¸‹æ¥è¦é€‰æ‹©æ”¶è´§åœ°å€ï¼Œç„¶åé€‰æ‹©è´£ä»»äººï¼Œè€Œä¸”å¿…é¡»æ˜¯ä¸Šä¸€ä¸ªæˆåŠŸï¼Œæ‰èƒ½æ‰§è¡Œä¸‹ä¸€ä¸ª~

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/25f01997107e4fe98222ef908f1c7cbe~tplv-k3u1fbpfcp-watermark.awebp)

å°ä¼™ä¼´ä»¬æƒŠè®¶äº†ï¼Œè¿™ä¸ç®€å•å˜›ï¼Ÿå¥¥åŠ›ç»™ï¼

```js
function applyDevice(data) {
  // å¤„ç†å·´æ‹‰å·´æ‹‰...
  let devices = {};
  let nextData = Object.assign({}, data, devices);
  // æ‰§è¡Œé€‰æ‹©æ”¶è´§åœ°å€
  selectAddress(nextData);
}

function selectAddress(data) {
  // å¤„ç†å·´æ‹‰å·´æ‹‰...
  let address = {};
  let nextData = Object.assign({}, data, address);
  // æ‰§è¡Œé€‰æ‹©è´£ä»»äºº
  selectChecker(nextData);
}

function selectChecker(data) {
  // å¤„ç†å·´æ‹‰å·´æ‹‰...
  let checker = {};
  let nextData = Object.assign({}, data, checker);
  // è¿˜æœ‰æ›´å¤š
}
å¤åˆ¶ä»£ç 
```

ä½ çœ‹ï¼Œè¿™ä¸å°±å®Œäº‹äº†ï¼Œæœ‰å•¥éš¾çš„ï¼Œç„¶åè¿‡äº†ç¬¬äºŒå¤©ï¼Œä½ åˆæ¥äº†ä¸¤ä¸ªæ–°çš„æµç¨‹éœ€æ±‚ï¼Œå¯èƒ½ä¸€ä¸ªå°±ä¸¤æ­¥éª¤ï¼Œä¸€ä¸ªå¯èƒ½å¤šäº†â€œæ£€æŸ¥åº“å­˜â€è¿™ä¸ªæ­¥éª¤

![img](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d9bcf3585e41410683ad6b49d7b7982e~tplv-k3u1fbpfcp-watermark.awebp)

ä½ ä¸ç”±æƒŠäº†ï¼Œå“å‘€å¦ˆå‘€ï¼Œ**è€å¤«èŠå‘å°‘å¹´ç‹‚ï¼Œé”®ç›˜ä¼ºå€™ï¼ŒCtrl C + Ctrl V**ï¼Œç›´æ¥copyç„¶åæ”¹ä¸€ä¸‹é€»è¾‘ï¼Ÿï¼Ÿ

è¿™é‡Œå°±æ˜¯è¦è®²çš„è´£ä»»é“¾æ¨¡å¼ã€‚

#### è´£ä»»é“¾æ¨¡å¼

ä»€ä¹ˆæ˜¯è´£ä»»é“¾æ¨¡å¼å‘¢ï¼Ÿæˆ‘ç»™ä½ ä»¬æ‰¾äº†ä¸ªå®šä¹‰ : é¿å…è¯·æ±‚å‘é€è€…ä¸æ¥æ”¶è€…è€¦åˆåœ¨ä¸€èµ·ï¼Œè®©å¤šä¸ªå¯¹è±¡éƒ½æœ‰å¯èƒ½æ¥æ”¶è¯·æ±‚ï¼Œå°†è¿™äº›å¯¹è±¡è¿æ¥æˆä¸€æ¡é“¾ï¼Œå¹¶ä¸”æ²¿ç€è¿™æ¡é“¾ä¼ é€’è¯·æ±‚ï¼Œç›´åˆ°æœ‰å¯¹è±¡å¤„ç†å®ƒä¸ºæ­¢ã€‚

```js
const Chain = function(fn) {
  this.fn = fn;
  
  this.setNext = function() {}

  this.run = function() {}
}

const applyDevice = function() {}
const chainApplyDevice = new Chain(applyDevice);

const selectAddress = function() {}
const chainSelectAddress = new Chain(selectAddress);

const selectChecker = function() {}
const chainSelectChecker = new Chain(selectChecker);

// è¿ç”¨è´£ä»»é“¾æ¨¡å¼å®ç°ä¸Šè¾¹åŠŸèƒ½
chainApplyDevice.setNext(chainSelectAddress).setNext(chainSelectChecker);
chainApplyDevice.run();
å¤åˆ¶ä»£ç 
```

è¿™æ ·çš„å¥½å¤„æ˜¯å•¥ï¼Ÿé¦–å…ˆæ˜¯è§£è€¦äº†å„èŠ‚ç‚¹å…³ç³»ï¼Œä¹‹å‰çš„æ–¹å¼æ˜¯ A é‡Œè¾¹è¦å†™ Bï¼ŒB é‡Œè¾¹å†™ Cï¼Œä½†æ˜¯è¿™é‡Œä¸åŒäº†ï¼Œä½ å¯ä»¥åœ¨ B é‡Œè¾¹å•¥éƒ½ä¸å†™ã€‚

å…¶æ¬¡ï¼Œå„èŠ‚ç‚¹çµæ´»æ‹†åˆ†é‡ç»„ï¼Œæ­£å¦‚ä¸Šè¾¹ä½ æ¥çš„ä¸¤ä¸ªæ–°éœ€æ±‚ã€‚æ¯”å¦‚ä¸¤ä¸ªæ­¥éª¤çš„ä½ å°±åªéœ€è¦è¿™ä¹ˆå†™å®Œäº‹

```js
const applyLincense = function() {}
const chainApplyLincense = new Chain(applyLincense);

const selectChecker = function() {}
const chainSelectChecker = new Chain(selectChecker);

// è¿ç”¨è´£ä»»é“¾æ¨¡å¼å®ç°ä¸Šè¾¹åŠŸèƒ½
chainApplyLincense.setNext(chainSelectChecker);
chainApplyLincense.run();
å¤åˆ¶ä»£ç 
```

#### ä»€ä¹ˆæ—¶å€™ä½¿ç”¨è´£ä»»é“¾æ¨¡å¼ï¼Ÿ

å½“ä½ è´Ÿè´£çš„æ¨¡å—ï¼ŒåŸºæœ¬æ»¡è¶³ä»¥ä¸‹æƒ…å†µæ—¶

- ä½ è´Ÿè´£çš„æ˜¯ä¸€ä¸ªå®Œæ•´æµç¨‹ï¼Œæˆ–ä½ åªè´Ÿè´£æµç¨‹ä¸­çš„æŸä¸ªç¯èŠ‚
- å„ç¯èŠ‚å¯å¤ç”¨
- å„ç¯èŠ‚æœ‰ä¸€å®šçš„æ‰§è¡Œé¡ºåº
- å„ç¯èŠ‚å¯é‡ç»„

#### å•ä¾‹æ¨¡å¼

- å®šä¹‰ï¼šå…¨å±€å”¯ä¸€è®¿é—®å¯¹è±¡

- åº”ç”¨åœºæ™¯ï¼šç¼“å­˜ï¼Œå…¨å±€çŠ¶æ€ç®¡ç†ç­‰

#### å‘å¸ƒè®¢é˜…æ¨¡å¼

- å®šä¹‰ï¼šä¸€ç§è®¢é˜…æœºåˆ¶ï¼Œå¯åœ¨è¢«è®¢é˜…å¯¹è±¡å‘ç”Ÿå˜åŒ–æ—¶é€šçŸ¥è®¢é˜…è€…

- åº”ç”¨åœºæ™¯ï¼šä»ç³»ç»Ÿæ¶æ„ä¹‹é—´çš„è§£è€¦ï¼Œåˆ°ä¸šåŠ¡ä¸­ä¸€äº›å®ç°æ¨¡å¼ï¼Œåƒé‚®ä»¶è®¢é˜…ï¼Œä¸Šçº¿è®¢é˜…ç­‰ç­‰ï¼Œåº”ç”¨å¹¿æ³›ã€‚

#### åŸå‹æ¨¡å¼

- å®šä¹‰ï¼šå¤åˆ¶å·²æœ‰å¯¹è±¡æ¥åˆ›å»ºæ–°çš„å¯¹è±¡

- åº”ç”¨åœºæ™¯ï¼šJSä¸­å¯¹è±¡åˆ›å»ºçš„åŸºæœ¬æ¨¡å¼

#### ä»£ç†æ¨¡å¼

- å®šä¹‰ï¼šå¯è‡ªå®šä¹‰æ§åˆ¶å¯¹åŸå¯¹è±¡çš„è®¿é—®æ–¹å¼ï¼Œå¹¶ä¸”å…è®¸åœ¨æ›´æ–°å‰ååšä¸€äº›é¢å¤–å¤„ç†ã€‚

- åº”ç”¨åœºæ™¯ï¼šç›‘æ§ï¼Œä»£ç†å·¥å…·ï¼Œå‰ç«¯æ¡†æ¶å®ç°ç­‰ç­‰

#### è¿­ä»£å™¨æ¨¡å¼

- å®šä¹‰ï¼šåœ¨ä¸æš´éœ²æ•°æ®ç±»å‹çš„æƒ…å†µä¸‹è®¿é—®é›†åˆä¸­çš„æ•°æ® åº”ç”¨åœºæ™¯ï¼šæ•°æ®ç»“æ„ä¸­æœ‰å¤šç§æ•°æ®ç±»å‹ï¼Œåˆ—è¡¨ï¼Œæ ‘ç­‰ï¼Œæä¾›é€šç”¨æ“ä½œæ¥å£ã€‚

#### ä»£ç†æ¨¡å¼

- å‰ç«¯æ¡†æ¶ä¸­å¯¹DOMæ“ä½œçš„ä»£ç†ï¼š

- æ›´æ”¹DOMå±æ€§â€”â€”>æ›´æ–°è™šæ‹ŸDOM-Diff->è§†å›¾æ›´æ–°

#### ç»„åˆæ¨¡å¼

- å®šä¹‰ï¼šå¯å¤šä¸ªå¯¹è±¡ç»„åˆä½¿ç”¨ï¼Œå¯å•ä¸ªå¯¹è±¡ç‹¬ç«‹ä½¿ç”¨ã€‚

- åº”ç”¨åœºæ™¯ï¼šDOMï¼Œå‰ç«¯ç»„ä»¶ï¼Œæ–‡ä»¶ç›®å½•ï¼Œéƒ¨é—¨

